{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mohit Sharma\\\\Downloads\\\\College-Management-System-master\\\\frontend\\\\src\\\\Screens\\\\Admin\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport Navbar from \"../../components/Navbar\";\nimport { toast, Toaster } from \"react-hot-toast\";\nimport Notice from \"../Notice\";\nimport Student from \"./Student\";\nimport Faculty from \"./Faculty\";\nimport Subjects from \"./Subject\";\nimport Admin from \"./Admin\";\nimport Branch from \"./Branch\";\nimport { useDispatch } from \"react-redux\";\nimport { setUserData } from \"../../redux/actions\";\nimport axiosWrapper from \"../../utils/AxiosWrapper\";\nimport Profile from \"./Profile\";\nimport Exam from \"../Exam\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MENU_ITEMS = [{\n  id: \"home\",\n  label: \"Home\",\n  component: Profile\n}, {\n  id: \"student\",\n  label: \"Student\",\n  component: Student\n}, {\n  id: \"faculty\",\n  label: \"Faculty\",\n  component: Faculty\n}, {\n  id: \"branch\",\n  label: \"Branch\",\n  component: Branch\n}, {\n  id: \"notice\",\n  label: \"Notice\",\n  component: Notice\n}, {\n  id: \"exam\",\n  label: \"Exam\",\n  component: Exam\n}, {\n  id: \"subjects\",\n  label: \"Subjects\",\n  component: Subjects\n}, {\n  id: \"admin\",\n  label: \"Admin\",\n  component: Admin\n}];\nconst Home = () => {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [selectedMenu, setSelectedMenu] = useState(\"home\");\n  const [profileData, setProfileData] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  const dispatch = useDispatch();\n  const userToken = localStorage.getItem(\"userToken\");\n  const fetchUserDetails = async () => {\n    setIsLoading(true);\n    try {\n      toast.loading(\"Loading user details...\");\n      const response = await axiosWrapper.get(`/admin/my-details`, {\n        headers: {\n          Authorization: `Bearer ${userToken}`\n        }\n      });\n      if (response.data.success) {\n        setProfileData(response.data.data);\n        dispatch(setUserData(response.data.data));\n      } else {\n        toast.error(response.data.message);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(error);\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Error fetching user details\");\n    } finally {\n      setIsLoading(false);\n      toast.dismiss();\n    }\n  };\n  useEffect(() => {\n    fetchUserDetails();\n  }, [dispatch, userToken]);\n  useEffect(() => {\n    const urlParams = new URLSearchParams(location.search);\n    const pathMenuId = urlParams.get(\"page\") || \"home\";\n    const validMenu = MENU_ITEMS.find(item => item.id === pathMenuId);\n    setSelectedMenu(validMenu ? validMenu.id : \"home\");\n  }, [location.pathname]);\n  const getMenuItemClass = menuId => {\n    const isSelected = selectedMenu === menuId;\n    return `\n      text-center px-6 py-3 cursor-pointer\n      font-medium text-sm w-full\n      rounded-md\n      transition-all duration-300 ease-in-out\n      ${isSelected ? \"bg-gradient-to-r from-blue-400 to-blue-600 text-white shadow-lg transform -translate-y-1\" : \"bg-blue-50 text-blue-700 hover:bg-blue-100\"}\n    `;\n  };\n  const renderContent = () => {\n    var _MENU_ITEMS$find;\n    if (isLoading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center items-center h-64\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this);\n    }\n    const MenuItem = (_MENU_ITEMS$find = MENU_ITEMS.find(item => item.id === selectedMenu)) === null || _MENU_ITEMS$find === void 0 ? void 0 : _MENU_ITEMS$find.component;\n    if (selectedMenu === \"home\" && profileData) {\n      return /*#__PURE__*/_jsxDEV(Profile, {\n        profileData: profileData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 14\n      }, this);\n    }\n    return MenuItem && /*#__PURE__*/_jsxDEV(MenuItem, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 24\n    }, this);\n  };\n  const handleMenuClick = menuId => {\n    setSelectedMenu(menuId);\n    navigate(`/admin?page=${menuId}`);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"flex justify-evenly items-center gap-10 w-full mx-auto my-8\",\n        children: MENU_ITEMS.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: getMenuItemClass(item.id),\n          onClick: () => handleMenuClick(item.id),\n          children: item.label\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), renderContent()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"bottom-center\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Home, \"3e+c/5OgxZoSBf+veYQVfLS/iKA=\", false, function () {\n  return [useNavigate, useLocation, useDispatch];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","Navbar","toast","Toaster","Notice","Student","Faculty","Subjects","Admin","Branch","useDispatch","setUserData","axiosWrapper","Profile","Exam","useNavigate","useLocation","jsxDEV","_jsxDEV","Fragment","_Fragment","MENU_ITEMS","id","label","component","Home","_s","navigate","location","selectedMenu","setSelectedMenu","profileData","setProfileData","isLoading","setIsLoading","dispatch","userToken","localStorage","getItem","fetchUserDetails","loading","response","get","headers","Authorization","data","success","error","message","_error$response","_error$response$data","console","dismiss","urlParams","URLSearchParams","search","pathMenuId","validMenu","find","item","pathname","getMenuItemClass","menuId","isSelected","renderContent","_MENU_ITEMS$find","className","children","fileName","_jsxFileName","lineNumber","columnNumber","MenuItem","handleMenuClick","map","onClick","position","_c","$RefreshReg$"],"sources":["C:/Users/Mohit Sharma/Downloads/College-Management-System-master/frontend/src/Screens/Admin/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Navbar from \"../../components/Navbar\";\nimport { toast, Toaster } from \"react-hot-toast\";\nimport Notice from \"../Notice\";\nimport Student from \"./Student\";\nimport Faculty from \"./Faculty\";\nimport Subjects from \"./Subject\";\nimport Admin from \"./Admin\";\nimport Branch from \"./Branch\";\nimport { useDispatch } from \"react-redux\";\nimport { setUserData } from \"../../redux/actions\";\nimport axiosWrapper from \"../../utils/AxiosWrapper\";\nimport Profile from \"./Profile\";\nimport Exam from \"../Exam\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\n\nconst MENU_ITEMS = [\n  { id: \"home\", label: \"Home\", component: Profile },\n  { id: \"student\", label: \"Student\", component: Student },\n  { id: \"faculty\", label: \"Faculty\", component: Faculty },\n  { id: \"branch\", label: \"Branch\", component: Branch },\n  { id: \"notice\", label: \"Notice\", component: Notice },\n  { id: \"exam\", label: \"Exam\", component: Exam },\n  { id: \"subjects\", label: \"Subjects\", component: Subjects },\n  { id: \"admin\", label: \"Admin\", component: Admin },\n];\n\nconst Home = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [selectedMenu, setSelectedMenu] = useState(\"home\");\n  const [profileData, setProfileData] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  const dispatch = useDispatch();\n  const userToken = localStorage.getItem(\"userToken\");\n\n  const fetchUserDetails = async () => {\n    setIsLoading(true);\n    try {\n      toast.loading(\"Loading user details...\");\n      const response = await axiosWrapper.get(`/admin/my-details`, {\n        headers: {\n          Authorization: `Bearer ${userToken}`,\n        },\n      });\n      if (response.data.success) {\n        setProfileData(response.data.data);\n        dispatch(setUserData(response.data.data));\n      } else {\n        toast.error(response.data.message);\n      }\n    } catch (error) {\n      console.error(error);\n      toast.error(\n        error.response?.data?.message || \"Error fetching user details\"\n      );\n    } finally {\n      setIsLoading(false);\n      toast.dismiss();\n    }\n  };\n\n  useEffect(() => {\n    fetchUserDetails();\n  }, [dispatch, userToken]);\n\n  useEffect(() => {\n    const urlParams = new URLSearchParams(location.search);\n    const pathMenuId = urlParams.get(\"page\") || \"home\";\n    const validMenu = MENU_ITEMS.find((item) => item.id === pathMenuId);\n    setSelectedMenu(validMenu ? validMenu.id : \"home\");\n  }, [location.pathname]);\n\n  const getMenuItemClass = (menuId) => {\n    const isSelected = selectedMenu === menuId;\n    return `\n      text-center px-6 py-3 cursor-pointer\n      font-medium text-sm w-full\n      rounded-md\n      transition-all duration-300 ease-in-out\n      ${\n        isSelected\n          ? \"bg-gradient-to-r from-blue-400 to-blue-600 text-white shadow-lg transform -translate-y-1\"\n          : \"bg-blue-50 text-blue-700 hover:bg-blue-100\"\n      }\n    `;\n  };\n\n  const renderContent = () => {\n    if (isLoading) {\n      return (\n        <div className=\"flex justify-center items-center h-64\">Loading...</div>\n      );\n    }\n\n    const MenuItem = MENU_ITEMS.find(\n      (item) => item.id === selectedMenu\n    )?.component;\n\n    if (selectedMenu === \"home\" && profileData) {\n      return <Profile profileData={profileData} />;\n    }\n\n    return MenuItem && <MenuItem />;\n  };\n\n  const handleMenuClick = (menuId) => {\n    setSelectedMenu(menuId);\n    navigate(`/admin?page=${menuId}`);\n  };\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"max-w-7xl mx-auto\">\n        <ul className=\"flex justify-evenly items-center gap-10 w-full mx-auto my-8\">\n          {MENU_ITEMS.map((item) => (\n            <li\n              key={item.id}\n              className={getMenuItemClass(item.id)}\n              onClick={() => handleMenuClick(item.id)}\n            >\n              {item.label}\n            </li>\n          ))}\n        </ul>\n\n        {renderContent()}\n      </div>\n      <Toaster position=\"bottom-center\" />\n    </>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}